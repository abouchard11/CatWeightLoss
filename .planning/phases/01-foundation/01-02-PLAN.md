---
phase: 01-foundation
plan: 02
type: execute
---

<objective>
Add XCTest target to enable unit testing for the CatWeightLoss app.

Purpose: Enable test-driven development for calorie calculations and weight trend logic.
Output: CatWeightLossTests target in project.yml with basic test structure.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-phase.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/codebase/TESTING.md
@project.yml

**Current state:** No test target exists in project.yml
**Constraint:** Use XCTest only (zero external dependencies)
**Pattern:** Follow XCGen test target conventions
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add CatWeightLossTests target to project.yml</name>
  <files>project.yml</files>
  <action>
Add test target section after the main app target:

```yaml
  CatWeightLossTests:
    type: bundle.unit-test
    platform: iOS
    sources:
      - path: CatWeightLossTests
        excludes:
          - "**/.DS_Store"
    dependencies:
      - target: CatWeightLoss
    settings:
      base:
        PRODUCT_BUNDLE_IDENTIFIER: com.catweightloss.tests
        GENERATE_INFOPLIST_FILE: YES
        TEST_HOST: "$(BUILT_PRODUCTS_DIR)/CatWeightLoss.app/$(BUNDLE_EXECUTABLE_FOLDER_PATH)/CatWeightLoss"
        BUNDLE_LOADER: "$(TEST_HOST)"
```

Do NOT add UI test target - focus on unit tests only for now.
  </action>
  <verify>xcodegen generate succeeds without errors</verify>
  <done>project.yml contains CatWeightLossTests target configuration</done>
</task>

<task type="auto">
  <name>Task 2: Create test directory and placeholder test</name>
  <files>CatWeightLossTests/CatWeightLossTests.swift</files>
  <action>
1. Create CatWeightLossTests/ directory
2. Create initial test file with:
   - Import XCTest and @testable import CatWeightLoss
   - Empty test class CatWeightLossTests: XCTestCase
   - One placeholder test: testExample() that passes (XCTAssertTrue(true))
   - Comment indicating where PortionCalculator tests will go

This establishes the test structure for Phase 2 work.
Do NOT add complex tests yet - Phase 2 handles actual test implementation.
  </action>
  <verify>
xcodegen generate && xcodebuild -project CatWeightLoss.xcodeproj -scheme CatWeightLossTests -destination 'platform=iOS Simulator,name=iPhone 16' test
  </verify>
  <done>Test target builds and placeholder test passes</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] xcodegen generate succeeds
- [ ] CatWeightLossTests target appears in generated Xcode project
- [ ] xcodebuild test runs successfully with 1 passing test
- [ ] Test file follows project conventions
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Test infrastructure ready for Phase 2
- Placeholder test passes
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
